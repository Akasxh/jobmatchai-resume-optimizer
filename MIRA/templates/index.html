<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Description Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="min-h-screen bg-cover bg-center flex flex-col items-center justify-start pt-10 px-4" style="background-image: url('{{ url_for('static', filename='image.jpg') }}');">

    <div class="w-full max-w-3xl bg-white bg-opacity-20 backdrop-blur-sm rounded-lg shadow-lg p-6 space-y-4">
        <div class="flex space-x-4">
            <button id="addPdfBtn" class="p-2 bg-white bg-opacity-30 rounded-full hover:bg-opacity-40 transition-all duration-200">
                <i data-lucide="plus" class="w-6 h-6 text-gray-800"></i>
            </button>
            <textarea id="jobDescription" placeholder="Enter job description..." class="flex-grow p-2 bg-white bg-opacity-30 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-400 text-black placeholder-gray-700" rows="3"></textarea>
            <button id="runBtn" class="p-2 bg-white bg-opacity-30 rounded-full hover:bg-opacity-40 transition-all duration-200">
                <i data-lucide="play" class="w-6 h-6 text-gray-800"></i>
            </button>
        </div>
        <div id="generatedTextContainer" class="space-y-2 max-h-[60vh] overflow-y-auto">
            <!-- Generated text will be inserted here -->
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Get DOM elements
        const addPdfBtn = document.getElementById("addPdfBtn");
        const jobDescriptionTextarea = document.getElementById("jobDescription");
        const runBtn = document.getElementById("runBtn");
        const generatedTextContainer = document.getElementById("generatedTextContainer");

        // Event listeners
        addPdfBtn.addEventListener("click", handleAddPdf);
        runBtn.addEventListener("click", handleRun);

        function handleAddPdf() {
            // Simulating PDF addition
            alert("PDF upload functionality would be implemented here");
        }

        function handleRun() {
            const jobDescription = jobDescriptionTextarea.value.trim();
            const resume = "Sample resume text here..."; // Replace with actual resume input
    
            if (!jobDescription || !resume) {
                alert("Please provide both job description and resume.");
                return;
            }

            // Simulating text generation (you can replace this with a backend call or other logic)
            const newText = `Generated text for job description: "${jobDescription}"`;
            addGeneratedText(newText);

            jobDescriptionTextarea.value = '';  // Clear the textarea
        }

        function addGeneratedText(text) {
            const p = document.createElement("pre");
            p.className = "p-2 bg-white bg-opacity-30 rounded-lg";
            p.textContent = text;
            generatedTextContainer.appendChild(p);
        }
    </script>
</body>
</html>
